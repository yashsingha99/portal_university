{"version":3,"file":"index-PjtMOPRo.js","sources":["../../admin/src/pages/EmailTemplates/utils/schema.js","../../admin/src/pages/EmailTemplates/components/EmailForm.jsx","../../admin/src/pages/EmailTemplates/components/EmailTable.jsx","../../admin/src/pages/EmailTemplates/index.jsx"],"sourcesContent":["import { translatedErrors } from '@strapi/helper-plugin';\nimport * as yup from 'yup';\n\nconst schema = yup.object().shape({\n  options: yup\n    .object()\n    .shape({\n      from: yup\n        .object()\n        .shape({\n          name: yup.string().required(translatedErrors.required),\n          email: yup.string().email(translatedErrors.email).required(translatedErrors.required),\n        })\n        .required(),\n      response_email: yup.string().email(translatedErrors.email),\n      object: yup.string().required(translatedErrors.required),\n      message: yup.string().required(translatedErrors.required),\n    })\n    .required(translatedErrors.required),\n});\n\nexport default schema;\n","import React from 'react';\n\nimport {\n  Button,\n  Grid,\n  GridItem,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  ModalLayout,\n  Textarea,\n} from '@strapi/design-system';\nimport { Breadcrumbs, Crumb } from '@strapi/design-system/v2';\nimport { Form, GenericInput } from '@strapi/helper-plugin';\nimport { Formik } from 'formik';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\n\nimport { getTrad } from '../../../utils';\nimport schema from '../utils/schema';\n\nconst EmailForm = ({ template, onToggle, onSubmit }) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <ModalLayout\n      onClose={onToggle}\n      labelledBy={`${formatMessage({\n        id: getTrad('PopUpForm.header.edit.email-templates'),\n        defaultMessage: 'Edit email template',\n      })}, ${formatMessage({ id: getTrad(template.display), defaultMessage: template.display })}`}\n    >\n      <ModalHeader>\n        <Breadcrumbs\n          label={`${formatMessage({\n            id: getTrad('PopUpForm.header.edit.email-templates'),\n            defaultMessage: 'Edit email template',\n          })}, ${formatMessage({\n            id: getTrad(template.display),\n            defaultMessage: template.display,\n          })}`}\n        >\n          <Crumb>\n            {formatMessage({\n              id: getTrad('PopUpForm.header.edit.email-templates'),\n              defaultMessage: 'Edit email template',\n            })}\n          </Crumb>\n          <Crumb isCurrent>\n            {formatMessage({ id: getTrad(template.display), defaultMessage: template.display })}\n          </Crumb>\n        </Breadcrumbs>\n      </ModalHeader>\n      <Formik\n        onSubmit={onSubmit}\n        initialValues={template}\n        validateOnChange={false}\n        validationSchema={schema}\n        enableReinitialize\n      >\n        {({ errors, values, handleChange, isSubmitting }) => {\n          return (\n            <Form>\n              <ModalBody>\n                <Grid gap={5}>\n                  <GridItem col={6} s={12}>\n                    <GenericInput\n                      intlLabel={{\n                        id: getTrad('PopUpForm.Email.options.from.name.label'),\n                        defaultMessage: 'Shipper name',\n                      }}\n                      name=\"options.from.name\"\n                      onChange={handleChange}\n                      value={values.options.from.name}\n                      error={errors?.options?.from?.name}\n                      type=\"text\"\n                    />\n                  </GridItem>\n                  <GridItem col={6} s={12}>\n                    <GenericInput\n                      intlLabel={{\n                        id: getTrad('PopUpForm.Email.options.from.email.label'),\n                        defaultMessage: 'Shipper email',\n                      }}\n                      name=\"options.from.email\"\n                      onChange={handleChange}\n                      value={values.options.from.email}\n                      error={errors?.options?.from?.email}\n                      type=\"text\"\n                    />\n                  </GridItem>\n                  <GridItem col={6} s={12}>\n                    <GenericInput\n                      intlLabel={{\n                        id: getTrad('PopUpForm.Email.options.response_email.label'),\n                        defaultMessage: 'Response email',\n                      }}\n                      name=\"options.response_email\"\n                      onChange={handleChange}\n                      value={values.options.response_email}\n                      error={errors?.options?.response_email}\n                      type=\"text\"\n                    />\n                  </GridItem>\n                  <GridItem col={6} s={12}>\n                    <GenericInput\n                      intlLabel={{\n                        id: getTrad('PopUpForm.Email.options.object.label'),\n                        defaultMessage: 'Subject',\n                      }}\n                      name=\"options.object\"\n                      onChange={handleChange}\n                      value={values.options.object}\n                      error={errors?.options?.object}\n                      type=\"text\"\n                    />\n                  </GridItem>\n                  <GridItem col={12} s={12}>\n                    <Textarea\n                      label={formatMessage({\n                        id: getTrad('PopUpForm.Email.options.message.label'),\n                        defaultMessage: 'Message',\n                      })}\n                      id=\"options.message\"\n                      onChange={handleChange}\n                      value={values.options.message}\n                      error={\n                        errors?.options?.message &&\n                        formatMessage({\n                          id: errors.options.message,\n                          defaultMessage: errors.options.message,\n                        })\n                      }\n                    />\n                  </GridItem>\n                </Grid>\n              </ModalBody>\n              <ModalFooter\n                startActions={\n                  <Button onClick={onToggle} variant=\"tertiary\">\n                    Cancel\n                  </Button>\n                }\n                endActions={\n                  <Button loading={isSubmitting} type=\"submit\">\n                    Finish\n                  </Button>\n                }\n              />\n            </Form>\n          );\n        }}\n      </Formik>\n    </ModalLayout>\n  );\n};\n\nEmailForm.propTypes = {\n  template: PropTypes.shape({\n    display: PropTypes.string,\n    icon: PropTypes.string,\n    options: PropTypes.shape({\n      from: PropTypes.shape({\n        name: PropTypes.string,\n        email: PropTypes.string,\n      }),\n      message: PropTypes.string,\n      object: PropTypes.string,\n      response_email: PropTypes.string,\n    }),\n  }).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onToggle: PropTypes.func.isRequired,\n};\n\nexport default EmailForm;\n","import React from 'react';\n\nimport {\n  Icon,\n  IconButton,\n  Table,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  Tr,\n  Typography,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { onRowClick, stopPropagation } from '@strapi/helper-plugin';\nimport { Check, Pencil, Refresh } from '@strapi/icons';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\n\nimport { getTrad } from '../../../utils';\n\nconst EmailTable = ({ canUpdate, onEditClick }) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Table colCount={3} rowCount={3}>\n      <Thead>\n        <Tr>\n          <Th width=\"1%\">\n            <VisuallyHidden>\n              {formatMessage({\n                id: getTrad('Email.template.table.icon.label'),\n                defaultMessage: 'icon',\n              })}\n            </VisuallyHidden>\n          </Th>\n          <Th>\n            <Typography variant=\"sigma\" textColor=\"neutral600\">\n              {formatMessage({\n                id: getTrad('Email.template.table.name.label'),\n                defaultMessage: 'name',\n              })}\n            </Typography>\n          </Th>\n          <Th width=\"1%\">\n            <VisuallyHidden>\n              {formatMessage({\n                id: getTrad('Email.template.table.action.label'),\n                defaultMessage: 'action',\n              })}\n            </VisuallyHidden>\n          </Th>\n        </Tr>\n      </Thead>\n      <Tbody>\n        <Tr {...onRowClick({ fn: () => onEditClick('reset_password') })}>\n          <Td>\n            <Icon>\n              <Refresh\n                aria-label={formatMessage({\n                  id: 'global.reset-password',\n                  defaultMessage: 'Reset password',\n                })}\n              />\n            </Icon>\n          </Td>\n          <Td>\n            <Typography>\n              {formatMessage({\n                id: 'global.reset-password',\n                defaultMessage: 'Reset password',\n              })}\n            </Typography>\n          </Td>\n          <Td {...stopPropagation}>\n            <IconButton\n              onClick={() => onEditClick('reset_password')}\n              label={formatMessage({\n                id: getTrad('Email.template.form.edit.label'),\n                defaultMessage: 'Edit a template',\n              })}\n              noBorder\n              icon={canUpdate && <Pencil />}\n            />\n          </Td>\n        </Tr>\n        <Tr {...onRowClick({ fn: () => onEditClick('email_confirmation') })}>\n          <Td>\n            <Icon>\n              <Check\n                aria-label={formatMessage({\n                  id: getTrad('Email.template.email_confirmation'),\n                  defaultMessage: 'Email address confirmation',\n                })}\n              />\n            </Icon>\n          </Td>\n          <Td>\n            <Typography>\n              {formatMessage({\n                id: getTrad('Email.template.email_confirmation'),\n                defaultMessage: 'Email address confirmation',\n              })}\n            </Typography>\n          </Td>\n          <Td {...stopPropagation}>\n            <IconButton\n              onClick={() => onEditClick('email_confirmation')}\n              label={formatMessage({\n                id: getTrad('Email.template.form.edit.label'),\n                defaultMessage: 'Edit a template',\n              })}\n              noBorder\n              icon={canUpdate && <Pencil />}\n            />\n          </Td>\n        </Tr>\n      </Tbody>\n    </Table>\n  );\n};\n\nEmailTable.propTypes = {\n  canUpdate: PropTypes.bool.isRequired,\n  onEditClick: PropTypes.func.isRequired,\n};\n\nexport default EmailTable;\n","import * as React from 'react';\n\nimport { ContentLayout, HeaderLayout, Main, useNotifyAT } from '@strapi/design-system';\nimport {\n  CheckPagePermissions,\n  LoadingIndicatorPage,\n  SettingsPageTitle,\n  useAPIErrorHandler,\n  useFetchClient,\n  useFocusWhenNavigate,\n  useNotification,\n  useOverlayBlocker,\n  useRBAC,\n  useTracking,\n} from '@strapi/helper-plugin';\nimport { useIntl } from 'react-intl';\nimport { useMutation, useQuery, useQueryClient } from 'react-query';\n\nimport { PERMISSIONS } from '../../constants';\nimport { getTrad } from '../../utils';\n\nimport EmailForm from './components/EmailForm';\nimport EmailTable from './components/EmailTable';\n\nconst ProtectedEmailTemplatesPage = () => (\n  <CheckPagePermissions permissions={PERMISSIONS.readEmailTemplates}>\n    <EmailTemplatesPage />\n  </CheckPagePermissions>\n);\n\nconst EmailTemplatesPage = () => {\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n  const { notifyStatus } = useNotifyAT();\n  const toggleNotification = useNotification();\n  const { lockApp, unlockApp } = useOverlayBlocker();\n  const queryClient = useQueryClient();\n  const { get, put } = useFetchClient();\n  const { formatAPIError } = useAPIErrorHandler();\n\n  useFocusWhenNavigate();\n\n  const [isModalOpen, setIsModalOpen] = React.useState(false);\n  const [templateToEdit, setTemplateToEdit] = React.useState(null);\n\n  const {\n    isLoading: isLoadingForPermissions,\n    allowedActions: { canUpdate },\n  } = useRBAC({ update: PERMISSIONS.updateEmailTemplates });\n\n  const { isLoading: isLoadingData, data } = useQuery(\n    ['users-permissions', 'email-templates'],\n    async () => {\n      const { data } = await get('/users-permissions/email-templates');\n\n      return data;\n    },\n    {\n      onSuccess() {\n        notifyStatus(\n          formatMessage({\n            id: getTrad('Email.template.data.loaded'),\n            defaultMessage: 'Email templates has been loaded',\n          })\n        );\n      },\n      onError(error) {\n        toggleNotification({\n          type: 'warning',\n          message: formatAPIError(error),\n        });\n      },\n    }\n  );\n\n  const isLoading = isLoadingForPermissions || isLoadingData;\n\n  const handleToggle = () => {\n    setIsModalOpen((prev) => !prev);\n  };\n\n  const handleEditClick = (template) => {\n    setTemplateToEdit(template);\n    handleToggle();\n  };\n\n  const submitMutation = useMutation(\n    (body) => put('/users-permissions/email-templates', { 'email-templates': body }),\n    {\n      async onSuccess() {\n        await queryClient.invalidateQueries(['users-permissions', 'email-templates']);\n\n        toggleNotification({\n          type: 'success',\n          message: { id: 'notification.success.saved', defaultMessage: 'Saved' },\n        });\n\n        trackUsage('didEditEmailTemplates');\n\n        unlockApp();\n        handleToggle();\n      },\n      onError(error) {\n        toggleNotification({\n          type: 'warning',\n          message: formatAPIError(error),\n        });\n\n        unlockApp();\n      },\n      refetchActive: true,\n    }\n  );\n\n  const handleSubmit = (body) => {\n    lockApp();\n\n    trackUsage('willEditEmailTemplates');\n\n    const editedTemplates = { ...data, [templateToEdit]: body };\n    submitMutation.mutate(editedTemplates);\n  };\n\n  if (isLoading) {\n    return (\n      <Main aria-busy=\"true\">\n        <SettingsPageTitle\n          name={formatMessage({\n            id: getTrad('HeaderNav.link.emailTemplates'),\n            defaultMessage: 'Email templates',\n          })}\n        />\n        <HeaderLayout\n          title={formatMessage({\n            id: getTrad('HeaderNav.link.emailTemplates'),\n            defaultMessage: 'Email templates',\n          })}\n        />\n        <ContentLayout>\n          <LoadingIndicatorPage />\n        </ContentLayout>\n      </Main>\n    );\n  }\n\n  return (\n    <Main aria-busy={submitMutation.isLoading}>\n      <SettingsPageTitle\n        name={formatMessage({\n          id: getTrad('HeaderNav.link.emailTemplates'),\n          defaultMessage: 'Email templates',\n        })}\n      />\n      <HeaderLayout\n        title={formatMessage({\n          id: getTrad('HeaderNav.link.emailTemplates'),\n          defaultMessage: 'Email templates',\n        })}\n      />\n      <ContentLayout>\n        <EmailTable onEditClick={handleEditClick} canUpdate={canUpdate} />\n        {isModalOpen && (\n          <EmailForm\n            template={data[templateToEdit]}\n            onToggle={handleToggle}\n            onSubmit={handleSubmit}\n          />\n        )}\n      </ContentLayout>\n    </Main>\n  );\n};\n\nexport default ProtectedEmailTemplatesPage;\n"],"names":["yup","translatedErrors","useIntl","jsxs","ModalLayout","getTrad","jsx","ModalHeader","Breadcrumbs","Crumb","Formik","Form","ModalBody","Grid","GridItem","GenericInput","Textarea","ModalFooter","Button","PropTypes","Table","Thead","Tr","Th","VisuallyHidden","Typography","Tbody","onRowClick","Td","Icon","Refresh","stopPropagation","IconButton","Pencil","Check","CheckPagePermissions","PERMISSIONS","useTracking","useNotifyAT","useNotification","useOverlayBlocker","useQueryClient","useFetchClient","useAPIErrorHandler","useFocusWhenNavigate","React","useRBAC","useQuery","data","useMutation","Main","SettingsPageTitle","HeaderLayout","ContentLayout","LoadingIndicatorPage"],"mappings":"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"}