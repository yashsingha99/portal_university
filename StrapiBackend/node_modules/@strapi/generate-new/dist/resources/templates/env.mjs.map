{"version":3,"file":"env.mjs","sources":["../../../src/resources/templates/env.ts"],"sourcesContent":["import crypto from 'crypto';\n\nimport fs from 'fs';\nimport path from 'path';\nimport _ from 'lodash';\n\nconst generateASecret = () => crypto.randomBytes(16).toString('base64');\n\nexport default () => {\n  const tmpl = fs.readFileSync(path.join(__dirname, 'env.template'));\n  const compile = _.template(tmpl.toString());\n\n  return compile({\n    appKeys: new Array(4).fill(null).map(generateASecret).join(','),\n    apiTokenSalt: generateASecret(),\n    transferTokenSalt: generateASecret(),\n    adminJwtToken: generateASecret(),\n  });\n};\n"],"names":[],"mappings":";;;;AAMA,MAAM,kBAAkB,MAAM,OAAO,YAAY,EAAE,EAAE,SAAS,QAAQ;AAEtE,MAAA,gBAAe,MAAM;AACnB,QAAM,OAAO,GAAG,aAAa,KAAK,KAAK,WAAW,cAAc,CAAC;AACjE,QAAM,UAAU,EAAE,SAAS,KAAK,SAAU,CAAA;AAE1C,SAAO,QAAQ;AAAA,IACb,SAAS,IAAI,MAAM,CAAC,EAAE,KAAK,IAAI,EAAE,IAAI,eAAe,EAAE,KAAK,GAAG;AAAA,IAC9D,cAAc,gBAAgB;AAAA,IAC9B,mBAAmB,gBAAgB;AAAA,IACnC,eAAe,gBAAgB;AAAA,EAAA,CAChC;AACH;"}