{"version":3,"file":"database.mjs","sources":["../../../src/resources/templates/database.ts"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport _ from 'lodash';\nimport type { DatabaseInfo } from '../../types';\n\nexport const createDatabaseConfig = ({ useTypescript }: { useTypescript: boolean }) => {\n  const language = useTypescript ? 'ts' : 'js';\n  const tmpl = fs.readFileSync(\n    path.join(__dirname, 'database-templates', language, `database.template`)\n  );\n  const compile = _.template(tmpl.toString());\n\n  return compile();\n};\n\nexport const generateDbEnvariables = ({\n  connection,\n  client,\n}: {\n  connection: DatabaseInfo;\n  client: string;\n}) => {\n  const tmpl = fs.readFileSync(path.join(__dirname, 'database-templates', `${client}.template`));\n  const compile = _.template(tmpl.toString());\n\n  return compile({\n    client,\n    connection: {\n      ...connection.connection,\n      ssl: connection.connection.ssl || false,\n    },\n  });\n};\n"],"names":[],"mappings":";;;AAKO,MAAM,uBAAuB,CAAC,EAAE,oBAAgD;AAC/E,QAAA,WAAW,gBAAgB,OAAO;AACxC,QAAM,OAAO,GAAG;AAAA,IACd,KAAK,KAAK,WAAW,sBAAsB,UAAU,mBAAmB;AAAA,EAAA;AAE1E,QAAM,UAAU,EAAE,SAAS,KAAK,SAAU,CAAA;AAE1C,SAAO,QAAQ;AACjB;AAEO,MAAM,wBAAwB,CAAC;AAAA,EACpC;AAAA,EACA;AACF,MAGM;AACE,QAAA,OAAO,GAAG,aAAa,KAAK,KAAK,WAAW,sBAAsB,GAAG,MAAM,WAAW,CAAC;AAC7F,QAAM,UAAU,EAAE,SAAS,KAAK,SAAU,CAAA;AAE1C,SAAO,QAAQ;AAAA,IACb;AAAA,IACA,YAAY;AAAA,MACV,GAAG,WAAW;AAAA,MACd,KAAK,WAAW,WAAW,OAAO;AAAA,IACpC;AAAA,EAAA,CACD;AACH;"}