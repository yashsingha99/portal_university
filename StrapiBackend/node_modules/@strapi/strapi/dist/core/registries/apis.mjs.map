{"version":3,"file":"apis.mjs","sources":["../../../src/core/registries/apis.ts"],"sourcesContent":["import { has } from 'lodash/fp';\nimport type { Strapi } from '@strapi/types';\n\nconst apisRegistry = (strapi: Strapi) => {\n  const apis: Record<string, unknown> = {};\n\n  return {\n    get(name: string) {\n      return apis[name];\n    },\n    getAll() {\n      return apis;\n    },\n    add(apiName: string, apiConfig: unknown) {\n      if (has(apiName, apis)) {\n        throw new Error(`API ${apiName} has already been registered.`);\n      }\n\n      const api = strapi.container.get('modules').add(`api::${apiName}`, apiConfig);\n\n      apis[apiName] = api;\n\n      return apis[apiName];\n    },\n  };\n};\n\nexport default apisRegistry;\n"],"names":[],"mappings":";AAGM,MAAA,eAAe,CAAC,WAAmB;AACvC,QAAM,OAAgC,CAAA;AAE/B,SAAA;AAAA,IACL,IAAI,MAAc;AAChB,aAAO,KAAK,IAAI;AAAA,IAClB;AAAA,IACA,SAAS;AACA,aAAA;AAAA,IACT;AAAA,IACA,IAAI,SAAiB,WAAoB;AACnC,UAAA,IAAI,SAAS,IAAI,GAAG;AACtB,cAAM,IAAI,MAAM,OAAO,OAAO,+BAA+B;AAAA,MAC/D;AAEM,YAAA,MAAM,OAAO,UAAU,IAAI,SAAS,EAAE,IAAI,QAAQ,OAAO,IAAI,SAAS;AAE5E,WAAK,OAAO,IAAI;AAEhB,aAAO,KAAK,OAAO;AAAA,IACrB;AAAA,EAAA;AAEJ;"}