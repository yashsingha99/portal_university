{"version":3,"file":"action.js","sources":["../../../../src/commands/actions/console/action.ts"],"sourcesContent":["import REPL from 'repl';\nimport strapi from '../../../Strapi';\n\n/**\n * `$ strapi console`\n */\nexport default async () => {\n  const appContext = await strapi.compile();\n  const app = await strapi(appContext).load();\n\n  app.start().then(() => {\n    const repl = REPL.start(app.config.info.name + ' > ' || 'strapi > '); // eslint-disable-line prefer-template\n\n    repl.on('exit', (err: Error) => {\n      if (err) {\n        app.log.error(err);\n        process.exit(1);\n      }\n\n      app.server.destroy();\n      process.exit(0);\n    });\n  });\n};\n"],"names":["strapi","REPL"],"mappings":";;;;;AAMA,MAAA,SAAe,YAAY;AACnB,QAAA,aAAa,MAAMA,OAAO;AAChC,QAAM,MAAM,MAAMA,OAAO,UAAU,EAAE,KAAK;AAEtC,MAAA,QAAQ,KAAK,MAAM;AACf,UAAA,OAAOC,sBAAK,MAAM,IAAI,OAAO,KAAK,OAAO,SAAS,WAAW;AAE9D,SAAA,GAAG,QAAQ,CAAC,QAAe;AAC9B,UAAI,KAAK;AACH,YAAA,IAAI,MAAM,GAAG;AACjB,gBAAQ,KAAK,CAAC;AAAA,MAChB;AAEA,UAAI,OAAO;AACX,cAAQ,KAAK,CAAC;AAAA,IAAA,CACf;AAAA,EAAA,CACF;AACH;;"}