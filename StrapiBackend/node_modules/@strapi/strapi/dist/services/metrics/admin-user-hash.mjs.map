{"version":3,"file":"admin-user-hash.mjs","sources":["../../../src/services/metrics/admin-user-hash.ts"],"sourcesContent":["import crypto from 'crypto';\nimport type { Strapi } from '@strapi/types';\n\n/**\n * Generate an admin user hash\n */\nconst generateAdminUserHash = (strapi: Strapi) => {\n  const ctx = strapi?.requestContext?.get();\n  if (!ctx?.state?.user?.email) {\n    return '';\n  }\n  return crypto.createHash('sha256').update(ctx.state.user.email).digest('hex');\n};\n\nexport { generateAdminUserHash };\n"],"names":[],"mappings":";AAMM,MAAA,wBAAwB,CAAC,WAAmB;AAC1C,QAAA,MAAM,QAAQ,gBAAgB,IAAI;AACxC,MAAI,CAAC,KAAK,OAAO,MAAM,OAAO;AACrB,WAAA;AAAA,EACT;AACO,SAAA,OAAO,WAAW,QAAQ,EAAE,OAAO,IAAI,MAAM,KAAK,KAAK,EAAE,OAAO,KAAK;AAC9E;"}